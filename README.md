# Реализация мини-оболочки с файловыми командами на Python

## Введение
Было сделано интерактивное консольное приложение на базе argparse. Реализованы команды - cd, ls, cat, mv, rm, cp, zip, unzip, tar, untar, grep, history, undo. Выполненные команды сохраняются в файле истории - .history.json, находящемся в директории src. Действия пользователя логируются в файле shell.log (находится там же).


## Структура проекта

 <pre>
    .
    ├── Lab_2_Consoleapp_Python                # Кодовая база
    │   ├── src/                               # Исходный код
    │   │   ├── .trash                         # Временная директория-корзина
    │   │   ├── commands/                      # Файлы с функциями для вышеперечисленных команд
    │   │   │   ├── parsing/                   # Файл для парсинга аргументов в командах
    │   │   │   │   ├── command_parsers.py     # (создан во избежание сильной завязки на argparse)
    │   │   │   │   ├── __init__.py
    │   │   │   ├── cd.py                      # Код для команды cd
    │   │   │   ├── ...                        
    │   │   ├── source/                        # Файлы конфигурации для логгера
    │   │   │   ├── __init__.py                           
    │   │   │   ├── config.py                  
    │   │   ├── .history.json                  # Файл истории команд
    │   │   ├── __init__.py                    
    │   │   ├── main.py                        # Точка запуска программы
    │   │   ├── ruletka_shell.py               # Основные функции оболочки
    │   │   ├── shell.log                      # Файл логов с датой и временем
    │   ├── tests/                             # Mock-тесты
    │   │   ├── conftest.py                    # Конфигурационный файл
    │   │   ├── test_cd.py                     # Тесты для команды cd
    │   │   ├── ...
    │   ├── requirements.txt                   # Зависимости
    │   ├── .gitignore                         # gitignore файл
    │   ├──.pre-commit-config.yaml             # Средства автоматизации проверки кодстайла
    │   ├── README.md                          # Описание

</pre>

## Схема работы
Пользователь запускает консоль через main.py. Стартовая директория - корневая (например, в Windows: C:/Users/User). При вводе команд поддерживаются как абсолютные, так и относительные пути. Можно вводить их в кавычках (для названий с пробелом, например ls "Машина тьюринга"). Для выхода пользователь вводит команду exit. Все действия пользователя и реакция на них оболочки (все введенные команды, ошибки, действия с файлами) логируются в файле shell.log.

## Пользовательские допущения
Я вчера лег в 3:27, а в 4 утра мне нужно было ехать на вокзал (02.01.2025)

## Сложности при выполнении работы
ТЕСТЫ ДЛЯ GREP И CAT НАКОНЕЦ ПОБЕЖДЕНЫ!

В силу неидеального знания ООП задержался на рефакторинге основного класса оболочки немного дольше, чем планировалось (создание абстрактного класса Shell, статического метода create).

## Удачного пользования консольной оболочкой!
Виндовс удалю с ноутбука, обещаю